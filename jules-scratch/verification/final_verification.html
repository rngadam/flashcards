<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verification</title>
    <link rel="stylesheet" href="../../style.css">
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f0f0f0;
        }
        #card-container {
            width: 600px;
            height: 400px;
        }
        .card-back {
            transform: rotateY(0deg) !important;
            z-index: 1;
        }
        #skill-mastery-dashboard {
            z-index: 2;
        }
    </style>
</head>
<body>

<div id="card-container">
    <div id="card">
        <div id="deck-title">Spanish Chapter 1</div>
        <div id="last-seen">Last seen: 5 minutes ago</div>
        <div class="card-face card-back">
            <div id="card-back-content">
                <span>Line 1: Some text<br>
                    Line 2: More text<br>
                    Line 3: Even more text<br>
                    Line 4: The last line of text which is very long and should wrap and resize correctly without being cut off.
                </span>
            </div>
        </div>
        <div id="skill-mastery-dashboard">
            <div class="skill-mastery-item active" title="Reading Comprehension - Next review: N/A">
                <span class="skill-name">RC</span>
                <span class="skill-score">1</span>
            </div>
            <div class="skill-mastery-item" title="Listening Comprehension - Next review: N/A">
                <span class="skill-name">LC</span>
                <span class="skill-score">0</span>
            </div>
        </div>
    </div>
</div>

<script>
    function adjustFontSize(element) {
        if (!element) return;
        const container = element.parentElement;
        if (!container) return;
        let min = 10, max = 150;
        let bestSize = min;

        while (min <= max) {
            let mid = Math.floor((min + max) / 2);
            element.style.fontSize = `${mid}px`;
            if (element.scrollWidth <= container.clientWidth && element.scrollHeight <= container.clientHeight) {
                bestSize = mid;
                min = mid + 1;
            } else {
                max = mid - 1;
            }
        }
        element.style.fontSize = `${bestSize}px`;
    }

    document.addEventListener('DOMContentLoaded', () => {
        const backSpan = document.querySelector('#card-back-content span');
        if(backSpan) adjustFontSize(backSpan);
    });
</script>

</body>
</html>
