<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flashcards</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div id="top-bar">
      <h1 id="config-title"></h1>
      <span id="detected-lang"></span>
      <div>
        <button id="history-button">üìú</button>
        <button id="settings-button">‚öôÔ∏è</button>
      </div>
    </div>

    <div id="history-modal" class="hidden">
      <div id="history-panel">
        <button id="close-history-button">X</button>
        <h2>History</h2>
        <div id="history-table-container"></div>
      </div>
    </div>

    <div id="settings-modal" class="hidden">
      <div id="settings">
        <button id="close-settings-button">X</button>
        <h2>Settings</h2>
        <div class="setting">
          <label for="config-name">Configuration Name:</label>
          <input type="text" id="config-name" placeholder="e.g., Spanish Vocabulary">
        </div>
        <div class="setting">
          <label for="key-column-selector">Unique Key Column:</label>
          <select id="key-column-selector"></select>
        </div>
        <div class="setting">
          <label for="data-url">Data Source URL (TSV/CSV):</label>
          <input type="text" id="data-url" value="https://docs.google.com/spreadsheets/d/e/2PACX-1vSW_KeHCyth3-9kWtpYHXl9aPVwoOhurjGINbJ4oNHWGoQMjSHyZl0J9LeraGDt51ZUjIsqrv9DXO27/pub?gid=2060234086&single=true&output=tsv">
        </div>
        <div class="setting">
          <label>Front Column(s):</label>
          <div id="front-column-checkboxes" class="column-checkbox-group"></div>
        </div>
        <div class="setting">
          <label>Back Column(s):</label>
          <div id="back-column-checkboxes" class="column-checkbox-group"></div>
        </div>
        <div class="setting">
          <label for="font-selector">Font:</label>
          <select id="font-selector">
            <option value="Arial">Arial</option>
            <option value="Verdana">Verdana</option>
            <option value="Times New Roman">Times New Roman</option>
            <option value="Courier New">Courier New</option>
          </select>
        </div>
        <div class="setting">
          <input type="checkbox" id="tts-front">
          <label for="tts-front">Text-to-Speech on Front</label>
          <select id="tts-front-lang"></select>
        </div>
        <div class="setting">
          <input type="checkbox" id="tts-back">
          <label for="tts-back">Text-to-Speech on Back</label>
          <select id="tts-back-lang"></select>
        </div>
        <div class="setting">
          <label for="tts-rate">Reading Speed:</label>
          <input type="range" id="tts-rate" min="0.1" max="2" value="1" step="0.1">
        </div>
        <div class="setting">
          <input type="checkbox" id="alternate-uppercase">
          <label for="alternate-uppercase">Alternate Uppercase on Front</label>
        </div>
        <div class="setting">
          <input type="checkbox" id="disable-animation">
          <label for="disable-animation">Disable Flip Animation</label>
        </div>
        <div class="setting">
          <input type="checkbox" id="audio-only-front">
          <label for="audio-only-front">Audio-Only Front</label>
        </div>
        <div class="setting">
          <input type="checkbox" id="tts-on-hotkey-only">
          <label for="tts-on-hotkey-only">Only read on hotkey (f)</label>
        </div>
        <div class="setting">
          <label for="repetition-intervals">Repetition Intervals (seconds, comma-separated):</label>
          <textarea id="repetition-intervals" rows="3"></textarea>
        </div>
        <div class="setting">
          <label for="learning-subset-size">Learning Subset Size:</label>
          <input type="number" id="learning-subset-size" value="7" min="1">
        </div>
        <button id="load-data">Load Data</button>
        <button id="save-config">Save Configuration</button>
        <div class="setting">
          <label for="config-selector">Load Configuration:</label>
          <select id="config-selector"></select>
        </div>
      </div>
    </div>

    <div id="card-container">
      <div id="card">
        <div class="card-face card-front"></div>
        <div class="card-face card-back"></div>
      </div>
    </div>

    <div id="controls">
      <button id="prev-card"><span>‚¨ÖÔ∏è</span><span class="btn-text"> Prev (&larr;)</span></button>
      <button id="i-dont-know"><span>‚ùå</span><span class="btn-text"> I don't know (j)</span></button>
      <button id="flip-card"><span>üîÑ</span><span class="btn-text"> Flip (Space)</span></button>
      <button id="i-know"><span>‚úÖ</span><span class="btn-text"> I know this (k)</span></button>
      <button id="next-card"><span>‚û°Ô∏è</span><span class="btn-text"> Next (&rarr;)</span></button>
      <span class="hotkey-hint">Slow Replay (f)</span>
    </div>

    <div id="card-stats"></div>

    <script type="module" src="app.js"></script>
  </body>
</html>
